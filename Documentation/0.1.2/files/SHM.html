<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PEAR2_Cache_SHM documentation</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta><link rel="stylesheet" href="../css/template.css" type="text/css"></link><script type="text/javascript" src="../js/jquery-1.4.2.min.js"></script><script type="text/javascript" src="../js/jquery.tools.min.js"></script><script type="text/javascript" src="../js/jquery-ui-1.8.2.custom.min.js"></script><script type="text/javascript" src="../js/template.js"></script></head><body><div id="content"><h1 class="file">SHM.php<a href="../source/SHM.php.html"><img src="../images/icons/view_source.png" alt="View Source" border="0"></img></a></h1><div id="file-nav-box"><div id="file-nav-options">
              Show:
              <img src="../images/icons/visibility_public.png" alt="Public" id="show-public"></img><img src="../images/icons/visibility_protected.png" alt="Protected" id="show-protected"></img><img src="../images/icons/visibility_private.png" alt="Private" id="show-private"></img><span class="attribute" id="show-inherited">inherited</span></div><div id="file-nav-container"><ul id="file-nav"><li><a href="#classes"><img src="../images/icons/class.png" alt="Class" height="14"></img>
                          Classes
                      </a><ul><li><a href="#\PEAR2\Cache\SHM">\PEAR2\Cache\SHM</a></li></ul></li></ul><div style="clear: left;"></div></div><div id="file-nav-tab">
              Table of Contents
          </div></div><a name="top" class="anchor"></a><div id="file-description"><div class="short-description">Wrapper for shared memory and locking functionality across different extensions.</div><div class="long-description">Allows you to share data across requests as long as the PHP process is running. One of APC or WinCache is required to accomplish this, with other extensions being potentially pluggable as adapters.

PHP version 5</div></div><dl class="file-info"><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Cache
         
    </dd><dt>Copyright</dt><dd>2011 Vasil Rangelov
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Cache_SHM">http://pear2.php.net/PEAR2_Cache_SHM</a>
         
    </dd><dt>Package</dt><dd>PEAR2_Cache_SHM
         
    </dd><dt>Version</dt><dd>0.1.2
         
    </dd></dl><a name="classes" class="anchor"></a><a id="\PEAR2\Cache\SHM" class="anchor"></a><h2 class="class">\PEAR2\Cache\SHM<div class="to-top"><a href="#top">jump to top</a></div></h2><div class="class"><small class="package"><b>Package: </b>PEAR2_Cache_SHM</small><div class="short-description">Main class for this package.</div><div class="long-description">Automatically chooses an adapter based on the available extensions.</div><dl class="class-info"><dt>Implements</dt><dd></dd><dt>Children</dt><dd><a href="../files/SHM.Adapter.APC.html#\PEAR2\Cache\SHM\Adapter\APC">\PEAR2\Cache\SHM\Adapter\APC</a></dd><dd><a href="../files/SHM.Adapter.Placebo.html#\PEAR2\Cache\SHM\Adapter\Placebo">\PEAR2\Cache\SHM\Adapter\Placebo</a></dd><dd><a href="../files/SHM.Adapter.Wincache.html#\PEAR2\Cache\SHM\Adapter\Wincache">\PEAR2\Cache\SHM\Adapter\Wincache</a></dd><dt>Author</dt><dd><a href="mailto:boen.robot@gmail.com">Vasil Rangelov</a>
         
    </dd><dt>Category</dt><dd>Cache
         
    </dd><dt>License</dt><dd><a href="http://www.gnu.org/copyleft/lesser.html">LGPL License 2.1</a>
         
    </dd><dt>Link</dt><dd><a href="http://pear2.php.net/PEAR2_Cache_SHM">http://pear2.php.net/PEAR2_Cache_SHM</a>
         
    </dd></dl><h3>Properties</h3><div><a id="\PEAR2\Cache\SHM::$_adapters" class="anchor"></a><div class="property private"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png" alt="&gt;"></img><img src="../images/icons/arrow_down.png" alt="V" style="display: none;"></img></a><code class="title"><img src="../images/icons/property.png" alt="Property"></img><img src="../images/icons/visibility_private.png" style="margin-right: 5px" alt="private"></img>array <span class="highlight">$_adapters</span> = array()</code><div class="description"><span class="attribute">static</span><div class="short-description"><p>An array of adapter names that meet their requirements.</p></div></div><div class="code-tabs"><div class="long-description"></div><strong>Default value</strong><code>array()</code><strong>Details</strong><dl class="property-info"><dt>Type</dt><dd>array</dd></dl></div><div class="clear"></div></div></div><h3>Methods</h3><div><a id="\PEAR2\Cache\SHM::__construct()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__construct</span><span class="nb-faded-text">(string $persistentId)</span> : void</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Creates a new shared memory storage.</p></div><div class="code-tabs"><div class="long-description">Estabilishes a separate persistent storage.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$persistentId</th><td>string</td><td><em><p>The ID for the storage. The storage will be
    reused if it exists, or created if it doesn't exist. Data and locks
    are namespaced by this ID.</p>
</em></td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::__get()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__get</span><span class="nb-faded-text">(string $key)</span> : mixed</code><div class="description"><p class="short_description">Gets a value from the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">This is a magic method, thanks to which any property you attempt to get
the value of will be fetched from the adapter, treating the property name
as the key of the value to get.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to get.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The current value of the specified key.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::__invoke()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__invoke</span><span class="nb-faded-text">(string $key, mixed $value, int $ttl = 0)</span> : bool</code><div class="description"><p class="short_description">Adds a value to the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">Adds a value to the storage if it doesn't exist, or fails if it does.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to associate the value with.</p></em></td></tr><tr><th>$value</th><td>mixed</td><td><em><p>Value for the specified key.</p></em></td></tr><tr><th>$ttl</th><td>int</td><td><em><p>Seconds to store the value. If set to 0 indicates no
    time limit.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::__isset()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__isset</span><span class="nb-faded-text">(string $key)</span> : bool</code><div class="description"><p class="short_description">Checks if a specified key is in the storage.</p></div><div class="code-tabs"><div class="long-description">This is a magic method, thanks to which any property you call isset() on
will be checked by the adapter, treating the property name as the key
of the value to check.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to check.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE if the key is in the storage, FALSE otherwise.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::__set()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__set</span><span class="nb-faded-text">(string $key, mixed $value)</span> : bool</code><div class="description"><p class="short_description">Sets a value in the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">This is a magic method, thanks to which any property you attempt to set
the value of will be set by the adapter, treating the property name as
the key of the value to set. The value is set without a TTL.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to associate the value with.</p></em></td></tr><tr><th>$value</th><td>mixed</td><td><em><p>Value for the specified key.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::__unset()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">__unset</span><span class="nb-faded-text">(string $key)</span> : bool</code><div class="description"><p class="short_description">Deletes a value from the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">This is a magic method, thanks to which any property you attempt to unset
the value of will be unset by the adapter, treating the property name as
the key of the value to delete.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to delete.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::add()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">add</span><span class="nb-faded-text">(string $key, mixed $value, int $ttl = 0)</span> : bool</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Adds a value to the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">Adds a value to the storage if it doesn't exist, or fails if it does.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to associate the value with.</p></em></td></tr><tr><th>$value</th><td>mixed</td><td><em><p>Value for the specified key.</p></em></td></tr><tr><th>$ttl</th><td>int</td><td><em><p>Seconds to store the value. If set to 0 indicates no
    time limit.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::cas()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">cas</span><span class="nb-faded-text">(string $key, int $old, int $new)</span> : bool</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Sets a new value if a key has a certain value.</p></div><div class="code-tabs"><div class="long-description">Sets a new value if a key has a certain value. This function only works
when $old and $new are longs.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Key of the value to compare and set.</p></em></td></tr><tr><th>$old</th><td>int</td><td><em><p>The value to compare the key against.</p></em></td></tr><tr><th>$new</th><td>int</td><td><em><p>The value to set the key to.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::clear()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">clear</span><span class="nb-faded-text">()</span> : void</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Clears the persistent storage.</p></div><div class="code-tabs"><div class="long-description">Clears the persistent storage, i.e. removes all keys. Locks are left
intact.</div></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::dec()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">dec</span><span class="nb-faded-text">(string $key, int $step = 1)</span> : int</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Decreases a value from the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">Decreases a value from the shared memory storage. Unlike a plain
set($key, get($key)-$step) combination, this function also implicitly
performs locking.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to decrease.</p></em></td></tr><tr><th>$step</th><td>int</td><td><em><p>Value to decrease the key by.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>The new value.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::delete()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">delete</span><span class="nb-faded-text">(string $key)</span> : bool</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Deletes a value from the shared memory storage.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to delete.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::exists()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">exists</span><span class="nb-faded-text">(string $key)</span> : bool</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Checks if a specified key is in the storage.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to check.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE if the key is in the storage, FALSE otherwise.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::factory()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">factory</span><span class="nb-faded-text">(string $persistentId)</span> : static | <a href="../files/SHM.html">\PEAR2\Cache\SHM</a></code><div class="description"><span class="attribute">static</span><span class="attribute">final</span><p class="short_description">Creates a new shared memory storage.</p></div><div class="code-tabs"><div class="long-description">Estabilishes a separate persistent storage. Adapter is automatically
chosen based on the available extensions.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$persistentId</th><td>string</td><td><em><p>The ID for the storage.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>static | <a href="../files/SHM.html">\PEAR2\Cache\SHM</a></td><td>A new instance of an SHM adapter (child of this
class).</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::get()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">get</span><span class="nb-faded-text">(string $key)</span> : mixed</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Gets a value from the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">Gets the current value, or throws an exception if it's not stored.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to get the value of.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>mixed</td><td>The current value of the specified key.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::inc()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">inc</span><span class="nb-faded-text">(string $key, int $step = 1)</span> : int</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Increases a value from the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">Increases a value from the shared memory storage. Unlike a plain
set($key, get($key)+$step) combination, this function also implicitly
performs locking.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to increase.</p></em></td></tr><tr><th>$step</th><td>int</td><td><em><p>Value to increase the key by.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>int</td><td>The new value.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::isMeetingRequirements()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">isMeetingRequirements</span><span class="nb-faded-text">()</span> : bool</code><div class="description"><span class="attribute">static</span><p class="short_description">Checks if the adapter meets its requirements.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::lock()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">lock</span><span class="nb-faded-text">(string $key, double $timeout = null)</span> : bool</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Obtains a named lock.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of the key to obtain. Note that $key may
    repeat for each distinct $persistentId.</p>
</em></td></tr><tr><th>$timeout</th><td>double</td><td><em><p>If the lock can't be immediatly obtained, the
    script will block for at most the specified amount of seconds.
    Setting this to 0 makes lock obtaining non blocking, and setting it
    to NULL makes it block without a time limit.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::registerAdapter()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">registerAdapter</span><span class="nb-faded-text">(string $adapter, bool $prepend = false)</span> : bool</code><div class="description"><span class="attribute">static</span><span class="attribute">final</span><p class="short_description">Registers an adapter.</p></div><div class="code-tabs"><div class="long-description">Registers an SHM adapter, allowing you to call it with {@link factory()}.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$adapter</th><td>string</td><td><em><p>FQCN of adapter. A valid adapter is one that
    extends this class. The class will be autoloaded if not already
    present.</p></em></td></tr><tr><th>$prepend</th><td>bool</td><td><em><p>Whether to prepend this adapter into the list of
    possible adapters, instead of appending to it.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::set()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">set</span><span class="nb-faded-text">(string $key, mixed $value, int $ttl = 0)</span> : bool</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Sets a value in the shared memory storage.</p></div><div class="code-tabs"><div class="long-description">Adds a value to the storage if it doesn't exist, overwrites it otherwise.</div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of key to associate the value with.</p></em></td></tr><tr><th>$value</th><td>mixed</td><td><em><p>Value for the specified key.</p></em></td></tr><tr><th>$ttl</th><td>int</td><td><em><p>Seconds to store the value. If set to 0 indicates no
    time limit.</p></em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div><a id="\PEAR2\Cache\SHM::unlock()" class="anchor"></a><div class="method public"><a href="#" class="gripper"><img src="../images/icons/arrow_right.png"></img><img src="../images/icons/arrow_down.png" style="display: none;"></img></a><code class="title"><img src="../images/icons/method.png" alt="method" title="method"></img><img src="../images/icons/visibility_public.png" style="margin-right: 5px" alt="public"></img><span class="highlight">unlock</span><span class="nb-faded-text">(string $key)</span> : bool</code><div class="description"><span class="attribute">abstract</span><p class="short_description">Releases a named lock.</p></div><div class="code-tabs"><div class="long-description"></div><strong>Parameters</strong><table class="argument-info"><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tr><th>$key</th><td>string</td><td><em><p>Name of the key to release. Note that $key may
    repeat for each distinct $persistentId.</p>
</em></td></tr></table><strong>Returns</strong><table class="argument-info"><thead><tr><th>Type</th><th>Description</th></tr></thead><tr><td>bool</td><td>TRUE on success, FALSE on failure.</td></tr></table></div><div class="clear"></div></div></div></div></div><small class="footer">
            Documentation was generated by
            <a href="http://phpdoc.org">phpDocumentor
                2.1.0-DEV
</a>.
        </small></body></html>
